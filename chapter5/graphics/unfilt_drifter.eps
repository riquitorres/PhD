%!PS-Adobe-2.0 EPSF-1.2
%%Creator: Gri2.6.4 (released 2001-06-23).  User=, commandfile=d:\programs\gri\gri\genmap
%%Title: d:\programs\gri\gri\genmap.ps
%%CreationDate: Sat Oct 19 18:23:47 2002
%%Pages: (atend)
%%BoundingBox: 38 49 206 248
%%TemplateBox: 0 0 612 792
%%DocumentFonts: (atend)
%%Endcomments
% NOTE: The Gri postscript dictionary is being converted to the Adobe
% Illustrator 3.0 dialect of PostScript, as described in the Adobe
% documents stored at URL
%   http://www.adobe.com/Support/TechNotes.html
% (as of Jan 1996, this doc is number 5007).  When the conversion
% is complete, the Adobe Illustrator drawing program -- and any
% program compatible with AI -- will be able to edit Gri output.
%
% The IslandDraw (TM) program is able to read Gri output
% at this time; remarkably, it can read/edit arbitrary PostScript.
%
% The definitions below are presented in the same order as the Adobe
% manual.  The stack configuration before and after is shown in curly
% brackets.  All the operators are listed, but only some are defined
% here. Most things are faithful, except that no distinction is made
% between colors for stroking and filling paths.  The string 'WRONGLY'
% appears with commands that are approximations.
%
% PDF-style abbreviations:
/rg {setrgbcolor} def   % {red green blue}            {-} set RGB color
/RG {setrgbcolor} def   % {red green blue}            {-} set RGB color
/q {gsave} def
/Q {grestore} def
/W {clip} def
/W* {eoclip} def
%
% Gri-specific abbreviations:
/hsb {sethsbcolor} def  % {hue saturation brightness} {-} set HSB color
%
% Following all try to mimic Adobe Illustrator
%
% Mimicking section 5.1 of Adobe manual:
%A                      % {flag A}          {-} Determine whether
                        %                       following object can
                        %                       be selected. Flag=1
                        %                       prevents selection;
                        %                       flag=0 allows it.

% Mimicking section 5.2 of Adobe manual:
%u                      % {u}               {-} start group
%U                      % end group
%q                      % as 'u' but first item is a clip path
%Q                      % as 'U' but first item is a clip path

% Mimicking section 5.3 of Adobe manual:
/g {setgray} def        % {gray g}          {-} Set gray for fill
                        %                       path, WRONGLY used
                        %                       for stroking also. 
/G {setgray} def        % As 'g', but for filling path.
%k                      % Set cmyk color for filling path.
%K                      % As 'k', but for stroking path.
%x                      % Set cmyk custom color for filling path.
%X                      % As 'x' but for stroking path.
%p                      % Define pattern for filling path.
%P                      % As 'p' but for stroking path.
%O                      % Specify whether overprinting for fill paths
%R                      % As 'O' but for stroking path.

% Mimicking section 5.4 of Adobe manual:
/d {setdash} def        % {[array] phase d} {-} Set dash.
/i {setflat} def        % {flatness i}      {-} Set flatness.
/j {setlinejoin} def    % {linejoin j}      {-} Set line join.
/J {setlinecap} def     % {linecap J}       {-} Set line cap.
/M {setmiterlimit} def  % {miterlimit M}    {-} Set miter limit.
/w {setlinewidth} def   % {linewidth w}     {-} Set line width.

% Mimicking section 5.5 of Adobe manual:
/m {moveto} def         % {x y m}           {-} Move to locn
/l {lineto} def         % {x y l}           {-} Draw line to locn
                        %                       not a smooth point.
                        %                       WRONGLY, no
                        %                       distinction is made
                        %                       between smooth and
                        %                       corner. 
%L                      % {x y L}           {-} As 'l' but a corner
%c                      % Bezier curve to smooth point.
%C                      % As 'c' but to corner point.
%v                      % Something else to do with Bezier.
%V                      % 
%y                      % 
%Y                      % 

% Mimicking section 5.6 of Adobe manual:
%N                      % {N}               {-} As 'n' for nondrawn stuff
/n {newpath} def        % {n}               {-} WRONGLY interpreted
                        %                       as path constructor
/F {fill} def           % {F}               {-} Fill current path.
%f                      % {f}               {-} 'F' but close first
/S {stroke} def         % {S}               {-} Stroke current path.
%s                      % {s}               {-} 'S' but close first
%B                      % {B}               {-} As 's' but don't empty path.
%b                      % {b}               {-} As 'f' but don't empty path.
%H                      % no-op (weird huh?)
/h {closepath} def      % {h}               {-} Close  current path
%W                      % Used to create masks.

% Mimicking section 5.7 of Adobe manual:
%a                      % Begin text block ...
%e                      % Similar to 'a' but ...
%I                      % Similar to 'a' but ...
%o                      % Similar to 'a' but ...
%r                      % Similar to 'a' but ...
%t                      % {len (string) t}  {-} Render string.
%T                      % End block of text

% That's the end of the Illustrator stuff. Following are some Gri
% definitions which provide a temporary way of handling fonts. 
/sf {setfont} def       % {fontname sf}     {-} Set font name.
/sh {show} def          % {(text) sh}       {-} Show text.
/sc {scalefont} def     % {size sc}         {-} Scale font.
% Gri items which should be translated to Illustrator format:
/rl {rlineto} def
/rm {rmoveto} def
% Procedures
/cimdict 7 dict def
/cim {
 cimdict begin
 /cl exch def
 /rw exch def
 /yur exch def
 /xur exch def
 /yll exch def
 /xll exch def
 q
 xll yll translate
 xur xll sub yur yll sub scale
 /do cl 3 mul string def
 cl rw 8 [cl 0 0 rw neg 0 rw] {currentfile do readhexstring pop} false 3 colorimage
 Q
 end
} def
/imdict 14 dict def
/im {
 imdict begin
 /cl exch def
 /rw exch def
 /yur exch def
 /xur exch def
 /yll exch def
 /xll exch def
 /imagemap exch def
 q
 % Until version 2.6.0 used a 'settransfer' here, but that
 % triggers a bug in ps2pdf
 xll yll translate
 xur xll sub yur yll sub scale
 /do cl string def
 cl rw 8 [cl 0 0 rw neg 0 rw]
 {currentfile do readhexstring pop
  dup length 1 sub 0 1 3 -1 roll
    { 1 index exch
      2 copy get imagemap exch get 255 mul cvi put
    }
  for
 }image
 Q
 end
} bind def
/frdict  5 dict def
/fr {
 frdict begin
 /yt exch def
 /xr exch def
 /yb exch def
 /xl exch def
 n
 xl yb m
 xl yt l
 xr yt l
 xr yb l
 h
 F
 n
 end
} def
/plusdict 3 dict def
/_plus {
 plusdict begin
 dup 0.5 mul /t0 exch def
 /t1 exch def
 0 t0 rm
 0 t1 neg rl
 t0 neg t0 rm
 t1 0 rl
 t0 neg 0 rm
 end
} def
/timesdict 3 dict def
/_times {
 timesdict begin
 dup 0.353553 mul /t0 exch def
 0.707106 mul /t1 exch def
 t0 neg t0 rm
 t1 dup neg rl
 t1 neg 0 rm
 t1 dup rl
 t0 neg dup rm
 end
} def
/boxdict 3 dict def
/_box {
 boxdict begin
 dup 0.5 mul /t0 exch def
 1 mul /t1 exch def
 t0 neg t0 rm
 t1 0 rl
 0 t1 neg rl
 t1 neg 0 rl
 h
 t0 dup neg rm
 end
} def
/filledboxdict 3 dict def
/_filledbox {
 filledboxdict begin
 dup 0.5 mul /t0 exch def
 1 mul /t1 exch def
 t0 neg t0 rm
 t1 0 rl
 0 t1 neg rl
 t1 neg 0 rl
 h
 t0 dup neg rm
 F end
} def
/diamonddict 2 dict def
/_diamond {
 diamonddict begin
 0.5 mul /t0 exch def
 t0 neg 0 rm
 t0 dup rl
 t0 dup neg rl
 t0 neg dup rl
 h
 t0 0 rm
 end
} def
/filleddiamonddict 2 dict def
/_filleddiamond {
 filleddiamonddict begin
 0.5 mul /t0 exch def
 t0 neg 0 rm
 t0 dup rl
 t0 dup neg rl
 t0 neg dup rl
 h
 t0 0 rm
 F end
} def
/triangleupdict 5 dict def
/_triangleup {
 triangleupdict begin
 dup 0.25 mul /t0 exch def
 dup 0.433013 mul /t1 exch def
 dup 0.75 mul /t2 exch def
 0.866026 mul /t3 exch def
 t1 neg t0 neg rm
 t1 t2 rl
 t1 t2 neg rl
 h
 t1 t0 rm
 end
} def
/filledtriangleupdict 5 dict def
/_filledtriangleup {
 filledtriangleupdict begin
 dup 0.25 mul /t0 exch def
 dup 0.433013 mul /t1 exch def
 dup 0.75 mul /t2 exch def
 0.866026 mul /t3 exch def
 t1 neg t0 neg rm
 t1 t2 rl
 t1 t2 neg rl
 h
 t1 t0 rm
 F end
} def
/trianglerightdict 5 dict def
/_triangleright {
 trianglerightdict begin
 dup 0.25 mul /t0 exch def
 dup 0.433013 mul /t1 exch def
 dup 0.75 mul /t2 exch def
 0.866026 mul /t3 exch def
 t0 neg t1 rm
 t2 t1 neg rl
 t2 neg t1 neg rl
 h
 t0 t1 neg rm
 end
} def
/filledtrianglerightdict 5 dict def
/_filledtriangleright {
 filledtrianglerightdict begin
 dup 0.25 mul /t0 exch def
 dup 0.433013 mul /t1 exch def
 dup 0.75 mul /t2 exch def
 0.866026 mul /t3 exch def
 t0 neg t1 rm
 t2 t1 neg rl
 t2 neg t1 neg rl
 h
 t0 t1 neg rm
 F end
} def
/triangledowndict 5 dict def
/_triangledown {
 triangledowndict begin
 dup 0.25 mul /t0 exch def
 dup 0.433013 mul /t1 exch def
 dup 0.75 mul /t2 exch def
 0.866026 mul /t3 exch def
 t1 neg t0 rm
 t3 0 rl
 t1 neg t2 neg rl
 h
 t1 t0 neg rm
 end
} def
/filledtriangledowndict 5 dict def
/_filledtriangledown {
 filledtriangledowndict begin
 dup 0.25 mul /t0 exch def
 dup 0.433013 mul /t1 exch def
 dup 0.75 mul /t2 exch def
 0.866026 mul /t3 exch def
 t1 neg t0 rm
 t3 0 rl
 t1 neg t2 neg rl
 h
 t1 t0 neg rm
 F end
} def
/triangleleftdict 5 dict def
/_triangleleft {
 triangleleftdict begin
 dup 0.25 mul /t0 exch def
 dup 0.433013 mul /t1 exch def
 dup 0.75 mul /t2 exch def
 0.866026 mul /t3 exch def
 t0 t1 rm
 0 t3 neg rl
 t2 neg t1 rl
 h
 t0 neg t1 neg rm
 end
} def
/filledtriangleleftdict 5 dict def
/_filledtriangleleft {
 filledtriangleleftdict begin
 dup 0.25 mul /t0 exch def
 dup 0.433013 mul /t1 exch def
 dup 0.75 mul /t2 exch def
 0.866026 mul /t3 exch def
 t0 t1 rm
 0 t3 neg rl
 t2 neg t1 rl
 h
 t0 neg t1 neg rm
 F end
} def
/circdict 5 dict def
/_circ {
 circdict begin
 0.5 mul /t0 exch def
 currentpoint
 /t2 exch def
 /t1 exch def
 S n t1 t2 t0 0 360 arc
 t1 t2 m
 end
} def
/bulldict 3 dict def
/_bull {
 bulldict begin
 0.5 mul /r exch def
 currentpoint /y exch def /x exch def
 S n x y r 0 360 arc h F S
 end
} def
/filledhalfmoonupdict 3 dict def
/_filledhalfmoonup {
 bulldict begin
 0.5 mul /r exch def
 currentpoint /y exch def /x exch def
 S n x y r 0 180 arc h F S
 end
} def
/filledhalfmoondowndict 3 dict def
/_filledhalfmoondown {
 bulldict begin
 0.5 mul /r exch def
 currentpoint /y exch def /x exch def
 S n x y r 180 360 arc h F S
 end
} def
1 1 scale
10.0 M
1 j
/Courier findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Courier-ISOLatin1 exch definefont pop
/Courier-Oblique findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Courier-Oblique-ISOLatin1 exch definefont pop
/Courier-Bold findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Courier-Bold-ISOLatin1 exch definefont pop
/Courier-BoldOblique findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Courier-BoldOblique-ISOLatin1 exch definefont pop
/Helvetica findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Helvetica-ISOLatin1 exch definefont pop
/Helvetica-Bold findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Helvetica-Bold-ISOLatin1 exch definefont pop
/Helvetica-Oblique findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Helvetica-Oblique-ISOLatin1 exch definefont pop
/Palatino-Roman findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Palatino-Roman-ISOLatin1 exch definefont pop
/Palatino-Italic findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Palatino-Italic-ISOLatin1 exch definefont pop
/Palatino-Bold findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Palatino-Bold-ISOLatin1 exch definefont pop
/Palatino-BoldItalic findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Palatino-BoldItalic-ISOLatin1 exch definefont pop
/Symbol findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Symbol-ISOLatin1 exch definefont pop
/Times-Roman findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Times-Roman-ISOLatin1 exch definefont pop
/Times-Italic findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Times-Italic-ISOLatin1 exch definefont pop
/Times-Bold findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Times-Bold-ISOLatin1 exch definefont pop
/Times-BoldItalic findfont dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse } forall
  /Encoding ISOLatin1Encoding def
  currentdict
end
/Times-BoldItalic-ISOLatin1 exch definefont pop
%%EndProlog
%%Page: 1 1
/Helvetica-ISOLatin1 findfont 12.00 sc sf
%gri:# Gri was invoked by user named
%gri:#     
%gri:# on host named
%gri:#     unknown
%gri:# using the command
%gri:#    gri -p d:\programs\gri\gri\genmap
%gri:# at time Sat Oct 19 18:23:47 2002.
%gri:expecting version 2.010
%gri:// Generalised vector and scalar charts
%gri:// Station map
%gri:// Image
%gri:// Bathymetry
%gri:// Vector arrows and contour map
%gri://
%gri:
%gri:// Define data file
%gri:
%gri:\FILE_DATA = "genmap.con"
%gri:query \fdata "Data file?  " ("\FILE_DATA")
%gri: 
%gri:open \fdata
%gri:skip 6
%gri:
%gri:// bathymetry file name & whether to draw isobaths
%gri:
%gri:read  \orientation 
%gri:read .fac.
%gri:skip 1
%gri:
%gri:read  \coastfile
%gri:read  \coast
%gri:read  \bathy
%gri:skip 1
%gri: 
%gri:// Set up the x axis.
%gri: 
%gri:read  .axfontsiz. .axlw.
%gri:read  .xmin.
%gri:read  .xmax.
%gri:read  .xinc.
%gri:read  .xtinc.
%gri:read  .xsize.
%gri:read  .xmargin. 
%gri:skip 1
%gri:
%gri:set x axis  .xmin. .xmax. .xinc. .xtinc.
%gri:set x size .xsize.
%gri:set x margin  .xmargin.
%gri:set x name "Longitude W"
%gri:
%gri:// Set up the y axis.
%gri:
%gri:read  .ymin.
%gri:read  .ymax.
%gri:read  .yinc.
%gri:read  .ytinc.
%gri:read  .ysize.
%gri:read  .ymargin.
%gri:skip 1
%gri: 
%gri:set y axis .ymin. .ymax. .yinc. .ytinc.
%gri:set y size .ysize.
%gri:set y margin .ymargin.
%gri:set y name "Latitude N"
%gri:
%gri:
%gri:// details of station file
%gri:\xst = "3"
%gri:\yst = "2"
%gri:\zst = "1"
%gri:read  \stfile
%gri:read \stns
%gri:read .stnsymsiz.
%gri:read \track
%gri:read  \labels
%gri:skip 1
%gri:
%gri:// import an image file?
%gri:
%gri:read \imdraw
%gri:read \imfile
%gri:read \gorcol		//greyscale or colour?
%gri:read \impal		//palette file
%gri:read .llx.
%gri:read .lly.
%gri:read .urx.
%gri:read .ury.
%gri:read .rows.
%gri:read .cols.
%gri:skip 1
%gri:
%gri:// draw contour map?
%gri:
%gri:read \contdraw
%gri:read \contfile
%gri:read \xcol \ycol \zcol
%gri:read \gmethod 		// conversion to grid method
%gri:read .xr. .yr.		// x and y scale parameters
%gri:read .n. .e. 		//min no of pst & extnsn of neighbrhd by root2^e
%gri:read .clw. \ccol	//contour line width & colour
%gri:read .cmin. .cmax. .cmaxt. .cmint. //contour limits & intervals
%gri:read \ncxtra 		//draw addtional contours? 
%gri:read .c1. .c2. 		// additional contour values (set same for 1 only)
%gri:read .clabfontsiz.	//contour label font size
%gri:read \contim		//convert grid to image?
%gri:read .minim. .maxim.	//image range
%gri:read \impal		//image palette file
%gri:skip 1
%gri:
%gri:// draw current vectors?
%gri:
%gri:read \currdraw
%gri:read \currfile
%gri:read \xcol \ycol \ucol \vcol
%gri:read .arrowtype.	//0 solid 1 open arrows
%gri:read .arrowscale.
%gri:read .sposx. .sposy.	// arrow scale posns in cms
%gri:skip 1
%gri: 
%gri:close
%gri:
%gri:show " "
%gri:show "------------------- Control file read ------------------"
%gri:// draw graph
%gri:
%gri:set page \orientation
%gri:set page factor .fac.
1 1 scale
%gri:
%gri:set line width axis .axlw.
%gri:set font size .axfontsiz.
%gri:draw axes 
% gr_show_at() BEGIN
0 g
0 G
138.1 67.4 m () sh
(\255) sh
(10) sh
% gr_show_at() END
0 g
0 G
1.0 i 0 J 0 j 0.817 w 10.0 M [] 0 d
88.20 88.20 m
100.29 88.20 l
100.29 85.35 l
100.29 88.20 l
146.79 88.20 l
146.79 82.51 l
146.79 88.20 l
193.29 88.20 l
193.29 85.35 l
193.29 88.20 l
198.96 88.20 l
S
% END GriPath stroke/fill
% gr_show_at() BEGIN
0 g
0 G
109.8 52.2 m (Longitude W) sh
% gr_show_at() END
/Helvetica-ISOLatin1 findfont 0.00 sc sf
0 g
0 G
1.0 i 0 J 0 j 0.817 w 10.0 M [] 0 d
88.20 240.69 m
100.29 240.69 l
100.29 243.53 l
100.29 240.69 l
146.79 240.69 l
146.79 246.38 l
146.79 240.69 l
193.29 240.69 l
193.29 243.53 l
193.29 240.69 l
198.96 240.69 l
S
% END GriPath stroke/fill
/Helvetica-ISOLatin1 findfont 12.00 sc sf
% gr_show_at() BEGIN
0 g
0 G
53.2 83.9 m (41.5) sh
% gr_show_at() END
% gr_show_at() BEGIN
0 g
0 G
63.3 179.2 m (42) sh
% gr_show_at() END
0 g
0 G
1.0 i 0 J 0 j 0.817 w 10.0 M [] 0 d
88.20 88.20 m
88.20 88.20 l
82.51 88.20 l
88.20 88.20 l
88.20 135.85 l
85.35 135.85 l
88.20 135.85 l
88.20 183.50 l
82.51 183.50 l
88.20 183.50 l
88.20 231.16 l
85.35 231.16 l
88.20 231.16 l
88.20 240.69 l
S
% END GriPath stroke/fill
% gr_show_at() BEGIN
0 g
0 G
47.4 137.0 m 90.00 rotate (Latitude N) sh
-90.00 rotate % gr_show_at() END
/Helvetica-ISOLatin1 findfont 0.00 sc sf
0 g
0 G
1.0 i 0 J 0 j 0.817 w 10.0 M [] 0 d
198.87 88.20 m
198.87 88.20 l
204.56 88.20 l
198.87 88.20 l
198.87 135.85 l
201.71 135.85 l
198.87 135.85 l
198.87 183.50 l
204.56 183.50 l
198.87 183.50 l
198.87 231.16 l
201.71 231.16 l
198.87 231.16 l
198.87 240.69 l
S
% END GriPath stroke/fill
/Helvetica-ISOLatin1 findfont 12.00 sc sf
%gri:set font size default
%gri:
%gri://draw any image
%gri:
%gri:if {"\imdraw" == "yes"}
%gri:set image range 0 255
%gri:open \imfile //binary
%gri://skip 1
%gri:read image pgm box .llx. .lly. .urx. .ury.
%gri://read image .rows. .cols. box .llx. .lly. .urx. .ury.
%gri:close
%gri:
%gri:open \impal
%gri:if {"\gorcol" == "grey"}
%gri:	read image grayscale
%gri:else if {"\gorcol" == "colour"}
%gri:	read image colorscale rgb
%gri:end if
%gri:close
%gri:
%gri:set clip postscript on
%gri:draw image
%gri:set clip postscript off
%gri://draw image histogram
%gri://draw image palette
%gri:end if
%gri:
%gri:show "------------------- Image section complete ---------------"
%gri:
%gri://draw topography and coast
%gri:
%gri:set missing value 999.000
%gri:set clip postscript on
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
q n % turn clipping on
88.195000 88.195000 moveto
198.865500 88.195000 lineto
198.865500 240.687000 lineto
88.195000 240.687000 lineto
h W
n % turn clipping on
%gri:
%gri:if {"\coast" == "yes"}
%gri:open \coastfile
%gri:
%gri:// Loop around all data
%gri:// Set loop parameter
%gri:    .loop. = 1
%gri:while 1 	//{rpn .loop.  217 >}
%gri:
%gri:read .dpth. .rows.
%gri:if ..eof..
%gri:  break
%gri:end if
%gri:read columns .rows. y x
%gri:
%gri:if {rpn .dpth. 1 >}
%gri:  if {"\coast" == "yes"}
%gri:  set color tan
%gri:  //  set greylevel 0.6
%gri:  if {rpn .loop. 18 == }
%gri:    draw curve filled to -12 x
%gri:  else
%gri:    draw curve filled
%gri:  end if
%gri:  set color black
%gri:  draw curve
%gri:  end if //coast
%gri:else
%gri:  if {"\bathy" == "yes"}
%gri:  if {rpn .dpth. 200 >}
%gri:    set color blue
%gri:  else
%gri:  //  set color rgb 0 .70 1
%gri:  set color blue
%gri:  end if
%gri:  draw curve
%gri:  end if
%gri:  set color black
%gri:end if
%gri://.loop. += 1
%gri:
%gri:
%gri:end while
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.709 w
0.824 0.706 0.549 rg
0.824 0.706 0.549 RG
1.0 i 0 J 1 j 0.709 w 10.0 M [] 0 d
251.60 278.24 m
250.85 278.24 l
251.60 282.05 l
252.43 280.91 l
251.60 278.24 l
h
F
% END GriPath stroke/fill
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.709 w
0 g
0 G
1.0 i 0 J 1 j 0.709 w 10.0 M [] 0 d
251.60 278.24 m
250.85 278.24 l
251.60 282.05 l
252.43 280.91 l
251.60 278.24 l
S
% END GriPath stroke/fill
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.709 w
0.824 0.706 0.549 rg
0.824 0.706 0.549 RG
1.0 i 0 J 1 j 0.709 w 10.0 M [] 0 d
239.97 259.37 m
236.62 261.85 l
237.46 265.66 l
239.97 264.51 l
239.97 259.37 l
h
F
% END GriPath stroke/fill
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.709 w
0 g
0 G
1.0 i 0 J 1 j 0.709 w 10.0 M [] 0 d
239.97 259.37 m
236.62 261.85 l
237.46 265.66 l
239.97 264.51 l
239.97 259.37 l
S
% END GriPath stroke/fill
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.709 w
0.824 0.706 0.549 rg
0.824 0.706 0.549 RG
1.0 i 0 J 1 j 0.709 w 10.0 M [] 0 d
245.83 241.64 m
248.34 242.97 l
249.18 245.45 l
249.18 247.93 l
248.34 250.60 l
245.83 247.93 l
245.83 241.64 l
h
F
% END GriPath stroke/fill
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.709 w
0 g
0 G
1.0 i 0 J 1 j 0.709 w 10.0 M [] 0 d
245.83 241.64 m
248.34 242.97 l
249.18 245.45 l
249.18 247.93 l
248.34 250.60 l
245.83 247.93 l
245.83 241.64 l
S
% END GriPath stroke/fill
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.709 w
0.824 0.706 0.549 rg
0.824 0.706 0.549 RG
1.0 i 0 J 1 j 0.709 w 10.0 M [] 0 d
247.50 211.14 m
248.34 212.48 l
248.34 222.58 l
247.50 223.91 l
245.83 221.43 l
245.83 214.95 l
247.50 211.14 l
h
F
% END GriPath stroke/fill
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.709 w
0 g
0 G
1.0 i 0 J 1 j 0.709 w 10.0 M [] 0 d
247.50 211.14 m
248.34 212.48 l
248.34 222.58 l
247.50 223.91 l
245.83 221.43 l
245.83 214.95 l
247.50 211.14 l
S
% END GriPath stroke/fill
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.709 w
0.824 0.706 0.549 rg
0.824 0.706 0.549 RG
1.0 i 0 J 1 j 0.709 w 10.0 M [] 0 d
332.79 503.66 m
330.28 504.69 l
326.09 500.88 l
325.25 490.96 l
321.91 490.96 l
316.88 486.01 l
310.19 476.10 l
304.33 473.62 l
304.33 470.00 l
304.33 465.04 l
300.98 458.75 l
300.98 453.79 l
301.82 452.46 l
304.33 452.46 l
305.16 452.46 l
309.35 456.27 l
312.70 458.75 l
315.21 458.75 l
316.88 456.27 l
313.54 452.46 l
312.70 452.46 l
308.51 453.79 l
306.84 452.46 l
306.84 449.98 l
308.51 447.50 l
312.70 447.50 l
314.37 445.03 l
312.70 442.55 l
310.19 440.07 l
310.19 431.30 l
307.68 431.30 l
306.00 433.78 l
304.33 441.40 l
300.14 440.07 l
299.31 432.64 l
297.63 430.16 l
295.96 432.64 l
294.28 441.40 l
290.10 440.07 l
287.59 437.59 l
285.91 431.30 l
283.40 428.82 l
274.20 426.35 l
264.15 422.72 l
259.97 425.20 l
255.04 432.64 l
251.60 428.82 l
250.85 427.68 l
247.50 427.68 l
246.67 426.35 l
245.83 420.06 l
240.81 420.06 l
240.81 418.91 l
244.16 413.96 l
244.16 411.48 l
234.95 402.71 l
225.74 397.75 l
222.39 398.90 l
219.05 402.71 l
218.21 401.38 l
218.21 395.09 l
221.56 391.46 l
223.23 388.99 l
223.23 385.17 l
220.72 382.70 l
216.54 381.36 l
214.02 375.07 l
212.35 368.97 l
214.02 361.35 l
212.35 355.06 l
212.35 346.29 l
214.02 343.81 l
214.86 345.14 l
216.54 350.10 l
218.21 352.58 l
220.72 352.58 l
223.23 346.29 l
225.74 340.00 l
227.42 337.52 l
227.42 329.89 l
224.91 328.75 l
225.74 323.80 l
230.76 316.17 l
233.28 318.65 l
235.79 323.80 l
246.67 327.42 l
246.67 324.94 l
234.95 308.55 l
232.44 306.07 l
231.60 302.26 l
230.76 299.78 l
229.09 297.30 l
228.25 288.34 l
232.44 284.72 l
231.60 278.24 l
235.79 274.62 l
239.97 275.76 l
241.65 277.09 l
242.48 282.05 l
246.67 285.86 l
247.50 291.01 l
250.85 291.01 l
251.60 299.78 l
255.04 299.78 l
259.97 298.44 l
260.80 298.44 l
259.97 288.34 l
255.04 277.09 l
255.87 271.95 l
256.62 266.99 l
255.87 263.18 l
253.36 263.18 l
250.85 268.14 l
248.34 268.14 l
244.99 261.85 l
248.34 259.37 l
251.60 259.37 l
252.43 250.60 l
254.20 246.79 l
261.64 247.93 l
264.99 254.41 l
269.17 256.89 l
269.17 254.41 l
260.80 240.31 l
254.20 239.16 l
253.36 235.35 l
250.85 234.02 l
250.85 229.06 l
254.20 225.25 l
259.97 223.91 l
268.34 229.06 l
270.85 234.02 l
274.20 235.35 l
274.20 226.39 l
268.34 222.58 l
263.31 216.29 l
256.62 211.14 l
252.43 210.00 l
250.02 206.19 l
253.36 201.04 l
253.36 198.56 l
250.02 195.89 l
248.34 192.08 l
248.34 176.83 l
247.50 166.73 l
249.18 159.10 l
254.20 160.25 l
254.20 155.29 l
250.85 147.67 l
250.02 134.90 l
254.20 114.31 l
255.04 112.97 l
256.62 91.24 l
257.46 80.95 l
259.13 65.70 l
262.48 41.11 l
264.15 29.68 l
266.66 12.90 l
268.34 7.76 l
273.36 -0.06 l
272.52 -2.73 l
268.34 -2.73 l
269.17 -11.69 l
270.01 -29.80 l
268.34 -53.24 l
266.66 -60.87 l
266.66 -70.02 l
269.17 -66.20 l
270.85 -53.24 l
274.20 -50.57 l
275.03 -55.72 l
272.52 -63.53 l
275.03 -67.35 l
275.03 -70.02 l
277.54 -72.68 l
277.54 -75.16 l
274.20 -80.50 l
273.36 -86.98 l
270.85 -88.31 l
270.85 -85.65 l
270.01 -79.16 l
268.34 -80.50 l
267.50 -88.31 l
265.83 -89.46 l
264.99 -82.98 l
264.15 -81.64 l
260.80 -98.61 l
259.13 -122.05 l
255.04 -141.69 l
250.02 -158.65 l
250.02 -169.14 l
254.20 -175.62 l
259.13 -183.43 l
259.13 -184.77 l
255.87 -186.10 l
251.60 -190.10 l
250.85 -197.92 l
250.02 -203.26 l
248.34 -209.74 l
237.46 -261.01 l
233.28 -278.17 l
231.60 -292.65 l
230.76 -297.99 l
223.23 -310.00 l
222.39 -311.33 l
224.91 -313.81 l
224.91 -319.15 l
223.23 -320.48 l
219.05 -319.15 l
216.54 -323.15 l
213.19 -325.82 l
204.82 -325.82 l
203.98 -328.49 l
209.00 -336.50 l
209.84 -340.50 l
210.68 -349.65 l
209.84 -356.32 l
205.65 -369.66 l
202.31 -382.81 l
201.47 -394.82 l
199.80 -409.50 l
198.12 -420.18 l
194.77 -434.85 l
193.94 -441.52 l
197.28 -454.87 l
202.31 -454.87 l
208.17 -456.20 l
212.35 -457.54 l
219.05 -454.87 l
227.42 -450.86 l
232.44 -444.19 l
235.79 -432.18 l
238.30 -418.84 l
239.97 -416.17 l
241.65 -426.85 l
244.16 -428.18 l
244.16 -432.18 l
245.83 -436.19 l
245.83 -440.19 l
241.65 -442.86 l
233.28 -449.53 l
233.28 -450.86 l
234.11 -453.53 l
241.65 -450.86 l
243.32 -453.53 l
243.32 -456.20 l
235.79 -458.87 l
232.44 -464.21 l
229.93 -462.87 l
229.09 -457.54 l
227.42 -456.20 l
219.05 -456.20 l
217.37 -460.20 l
222.39 -480.41 l
222.39 -491.08 l
222.39 -497.76 l
219.88 -500.42 l
219.05 -508.43 l
218.21 -508.43 l
218.21 -512.62 l
223.23 -508.43 l
228.25 -504.43 l
241.65 -500.42 l
249.18 -492.42 l
254.20 -492.42 l
256.62 -496.42 l
259.97 -493.75 l
260.80 -491.08 l
261.64 -485.75 l
263.31 -483.08 l
264.15 -484.41 l
264.99 -500.42 l
270.01 -508.43 l
270.85 -508.43 l
269.17 -509.95 l
266.66 -509.95 l
264.15 -509.95 l
262.48 -505.76 l
260.80 -507.10 l
259.13 -508.43 l
257.46 -501.76 l
254.20 -496.42 l
250.02 -496.42 l
250.02 -501.76 l
255.87 -512.62 l
256.62 -517.96 l
259.13 -529.97 l
259.13 -548.84 l
256.62 -558.37 l
255.04 -571.71 l
252.43 -585.25 l
251.60 -594.78 l
252.43 -601.45 l
256.62 -598.78 l
256.62 -620.32 l
258.29 -623.18 l
259.13 -625.85 l
256.62 -632.52 l
256.62 -640.72 l
261.64 -642.05 l
258.29 -654.25 l
256.62 -665.12 l
259.13 -677.31 l
257.46 -685.51 l
257.46 -696.38 l
255.87 -701.90 l
251.60 -715.44 l
251.60 -724.97 l
250.02 -733.17 l
244.16 -744.03 l
243.32 -757.75 l
239.13 -767.29 l
236.62 -768.62 l
236.34 -769.57 l
332.79 -769.57 l
332.79 503.66 l
h
F
% END GriPath stroke/fill
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.709 w
0 g
0 G
1.0 i 0 J 1 j 0.709 w 10.0 M [] 0 d
332.79 503.66 m
330.28 504.69 l
326.09 500.88 l
325.25 490.96 l
321.91 490.96 l
316.88 486.01 l
310.19 476.10 l
304.33 473.62 l
304.33 470.00 l
304.33 465.04 l
300.98 458.75 l
300.98 453.79 l
301.82 452.46 l
304.33 452.46 l
305.16 452.46 l
309.35 456.27 l
312.70 458.75 l
315.21 458.75 l
316.88 456.27 l
313.54 452.46 l
312.70 452.46 l
308.51 453.79 l
306.84 452.46 l
306.84 449.98 l
308.51 447.50 l
312.70 447.50 l
314.37 445.03 l
312.70 442.55 l
310.19 440.07 l
310.19 431.30 l
307.68 431.30 l
306.00 433.78 l
304.33 441.40 l
300.14 440.07 l
299.31 432.64 l
297.63 430.16 l
295.96 432.64 l
294.28 441.40 l
290.10 440.07 l
287.59 437.59 l
285.91 431.30 l
283.40 428.82 l
274.20 426.35 l
264.15 422.72 l
259.97 425.20 l
255.04 432.64 l
251.60 428.82 l
250.85 427.68 l
247.50 427.68 l
246.67 426.35 l
245.83 420.06 l
240.81 420.06 l
240.81 418.91 l
244.16 413.96 l
244.16 411.48 l
234.95 402.71 l
225.74 397.75 l
222.39 398.90 l
219.05 402.71 l
218.21 401.38 l
218.21 395.09 l
221.56 391.46 l
223.23 388.99 l
223.23 385.17 l
220.72 382.70 l
216.54 381.36 l
214.02 375.07 l
212.35 368.97 l
214.02 361.35 l
212.35 355.06 l
212.35 346.29 l
214.02 343.81 l
214.86 345.14 l
216.54 350.10 l
218.21 352.58 l
220.72 352.58 l
223.23 346.29 l
225.74 340.00 l
227.42 337.52 l
227.42 329.89 l
224.91 328.75 l
225.74 323.80 l
230.76 316.17 l
233.28 318.65 l
235.79 323.80 l
246.67 327.42 l
246.67 324.94 l
234.95 308.55 l
232.44 306.07 l
231.60 302.26 l
230.76 299.78 l
229.09 297.30 l
228.25 288.34 l
232.44 284.72 l
231.60 278.24 l
235.79 274.62 l
239.97 275.76 l
241.65 277.09 l
242.48 282.05 l
246.67 285.86 l
247.50 291.01 l
250.85 291.01 l
251.60 299.78 l
255.04 299.78 l
259.97 298.44 l
260.80 298.44 l
259.97 288.34 l
255.04 277.09 l
255.87 271.95 l
256.62 266.99 l
255.87 263.18 l
253.36 263.18 l
250.85 268.14 l
248.34 268.14 l
244.99 261.85 l
248.34 259.37 l
251.60 259.37 l
252.43 250.60 l
254.20 246.79 l
261.64 247.93 l
264.99 254.41 l
269.17 256.89 l
269.17 254.41 l
260.80 240.31 l
254.20 239.16 l
253.36 235.35 l
250.85 234.02 l
250.85 229.06 l
254.20 225.25 l
259.97 223.91 l
268.34 229.06 l
270.85 234.02 l
274.20 235.35 l
274.20 226.39 l
268.34 222.58 l
263.31 216.29 l
256.62 211.14 l
252.43 210.00 l
250.02 206.19 l
253.36 201.04 l
253.36 198.56 l
250.02 195.89 l
248.34 192.08 l
248.34 176.83 l
247.50 166.73 l
249.18 159.10 l
254.20 160.25 l
254.20 155.29 l
250.85 147.67 l
250.02 134.90 l
254.20 114.31 l
255.04 112.97 l
256.62 91.24 l
257.46 80.95 l
259.13 65.70 l
262.48 41.11 l
264.15 29.68 l
266.66 12.90 l
268.34 7.76 l
273.36 -0.06 l
272.52 -2.73 l
268.34 -2.73 l
269.17 -11.69 l
270.01 -29.80 l
268.34 -53.24 l
266.66 -60.87 l
266.66 -70.02 l
269.17 -66.20 l
270.85 -53.24 l
274.20 -50.57 l
275.03 -55.72 l
272.52 -63.53 l
275.03 -67.35 l
275.03 -70.02 l
277.54 -72.68 l
277.54 -75.16 l
274.20 -80.50 l
273.36 -86.98 l
270.85 -88.31 l
270.85 -85.65 l
270.01 -79.16 l
268.34 -80.50 l
267.50 -88.31 l
265.83 -89.46 l
264.99 -82.98 l
264.15 -81.64 l
260.80 -98.61 l
259.13 -122.05 l
255.04 -141.69 l
250.02 -158.65 l
250.02 -169.14 l
254.20 -175.62 l
259.13 -183.43 l
259.13 -184.77 l
255.87 -186.10 l
251.60 -190.10 l
250.85 -197.92 l
250.02 -203.26 l
248.34 -209.74 l
237.46 -261.01 l
233.28 -278.17 l
231.60 -292.65 l
230.76 -297.99 l
223.23 -310.00 l
222.39 -311.33 l
224.91 -313.81 l
224.91 -319.15 l
223.23 -320.48 l
219.05 -319.15 l
216.54 -323.15 l
213.19 -325.82 l
204.82 -325.82 l
203.98 -328.49 l
209.00 -336.50 l
209.84 -340.50 l
210.68 -349.65 l
209.84 -356.32 l
205.65 -369.66 l
202.31 -382.81 l
201.47 -394.82 l
199.80 -409.50 l
198.12 -420.18 l
194.77 -434.85 l
193.94 -441.52 l
197.28 -454.87 l
202.31 -454.87 l
208.17 -456.20 l
212.35 -457.54 l
219.05 -454.87 l
227.42 -450.86 l
232.44 -444.19 l
235.79 -432.18 l
238.30 -418.84 l
239.97 -416.17 l
241.65 -426.85 l
244.16 -428.18 l
244.16 -432.18 l
245.83 -436.19 l
245.83 -440.19 l
241.65 -442.86 l
233.28 -449.53 l
233.28 -450.86 l
234.11 -453.53 l
241.65 -450.86 l
243.32 -453.53 l
243.32 -456.20 l
235.79 -458.87 l
232.44 -464.21 l
229.93 -462.87 l
229.09 -457.54 l
227.42 -456.20 l
219.05 -456.20 l
217.37 -460.20 l
222.39 -480.41 l
222.39 -491.08 l
222.39 -497.76 l
219.88 -500.42 l
219.05 -508.43 l
218.21 -508.43 l
218.21 -512.62 l
223.23 -508.43 l
228.25 -504.43 l
241.65 -500.42 l
249.18 -492.42 l
254.20 -492.42 l
256.62 -496.42 l
259.97 -493.75 l
260.80 -491.08 l
261.64 -485.75 l
263.31 -483.08 l
264.15 -484.41 l
264.99 -500.42 l
270.01 -508.43 l
270.85 -508.43 l
269.17 -509.95 l
266.66 -509.95 l
264.15 -509.95 l
262.48 -505.76 l
260.80 -507.10 l
259.13 -508.43 l
257.46 -501.76 l
254.20 -496.42 l
250.02 -496.42 l
250.02 -501.76 l
255.87 -512.62 l
256.62 -517.96 l
259.13 -529.97 l
259.13 -548.84 l
256.62 -558.37 l
255.04 -571.71 l
252.43 -585.25 l
251.60 -594.78 l
252.43 -601.45 l
256.62 -598.78 l
256.62 -620.32 l
258.29 -623.18 l
259.13 -625.85 l
256.62 -632.52 l
256.62 -640.72 l
261.64 -642.05 l
258.29 -654.25 l
256.62 -665.12 l
259.13 -677.31 l
257.46 -685.51 l
257.46 -696.38 l
255.87 -701.90 l
251.60 -715.44 l
251.60 -724.97 l
250.02 -733.17 l
244.16 -744.03 l
243.32 -757.75 l
239.13 -767.29 l
236.62 -768.62 l
236.34 -769.57 l
332.79 -769.57 l
332.79 503.66 l
S
% END GriPath stroke/fill
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.709 w
0.824 0.706 0.549 rg
0.824 0.706 0.549 RG
1.0 i 0 J 1 j 0.709 w 10.0 M [] 0 d
262.63 -769.57 m
270.85 -765.95 l
275.87 -760.42 l
277.54 -759.09 l
280.89 -763.28 l
287.59 -761.95 l
293.45 -765.95 l
302.65 -763.28 l
308.02 -769.57 l
h
F
% END GriPath stroke/fill
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.709 w
0 g
0 G
1.0 i 0 J 1 j 0.709 w 10.0 M [] 0 d
262.63 -769.57 m
270.85 -765.95 l
275.87 -760.42 l
277.54 -759.09 l
280.89 -763.28 l
287.59 -761.95 l
293.45 -765.95 l
302.65 -763.28 l
308.02 -769.57 l
S
% END GriPath stroke/fill
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.709 w
0.824 0.706 0.549 rg
0.824 0.706 0.549 RG
1.0 i 0 J 1 j 0.709 w 10.0 M [] 0 d
312.28 -769.57 m
318.56 -768.62 l
319.72 -769.57 l
h
F
% END GriPath stroke/fill
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.709 w
0 g
0 G
1.0 i 0 J 1 j 0.709 w 10.0 M [] 0 d
312.28 -769.57 m
318.56 -768.62 l
319.72 -769.57 l
S
% END GriPath stroke/fill
%gri:
%gri:close
%gri:
%gri:end if // draw bathymetry
%gri:
%gri:show "------------------ Bathymetry section complete ------------------"
%gri:
%gri://draw contour map 
%gri:
%gri:if {"\contdraw" == "yes"}
%gri:
%gri:set missing value 999.999
%gri:open \contfile
%gri:read columns x=\xcol y=\ycol z=\zcol
%gri:close
%gri:x *= -1
%gri:
%gri:.xstep. = {rpn .xr. 0.3 * }
%gri:.ystep. = {rpn .yr. 0.3 * }
%gri:
%gri:set x grid {rpn x min} {rpn x max} .xstep.
%gri:set y grid {rpn y min} {rpn y max} .ystep.
%gri:if {"\gmethod" == "default"}
%gri:	convert columns to grid
%gri:else if {"\gmethod" == "objective"}
%gri:	convert columns to grid objective .xr. .yr. .n. .e.
%gri:else if {"\gmethod" == "barnes"}
%gri:	convert columns to grid  barnes .xr. .yr. .n. .e.
%gri:else 
%gri:open \gmethod
%gri:read grid data
%gri:close
%gri:end if
%gri:
%gri:
%gri:if {"\contim" == "colour"}
%gri:	set image range .minim. .maxim.
%gri:	open \impal
%gri:	read image colorscale rgb
%gri:	close
%gri:	convert grid to image
%gri:	draw image
%gri:end if
%gri:
%gri:if {"\contim" == "grey"}
%gri:        set image range .minim. .maxim.
%gri:        open \impal    
%gri:        read image grayscale 
%gri:        close
%gri:        convert grid to image
%gri:        draw image
%gri:end if   
%gri:
%gri:set contour label position centered
%gri:set font size .clabfontsiz.
%gri:set line width .clw.
%gri:set color \ccol
%gri:draw contour .cmin. .cmax. .cmaxt. .cmint.
%gri:if {"\ncxtra" == "yes"}
%gri:	set dash 1
%gri:	draw contour .c1.
%gri:	draw contour .c2.
%gri:	set dash off
%gri:end if
%gri:set line width default
%gri:set font size default
%gri:
%gri:end if //contdraw
%gri:
%gri:show "----------------- Contour drawing complete ----------------------"
%gri:
%gri:
%gri://draw stations and their labels
%gri:set missing value 999.999
%gri:
%gri:open \stfile
%gri:skip 1
%gri:read columns z=\zst x=\xst y=\yst
%gri://x *= -1
%gri:
%gri:if {"\track" == "yes"}
%gri:set color black //LightGray
%gri:set line width 0.4417
%gri:draw curve
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.442 w
0 g
0 G
1.0 i 0 J 1 j 0.442 w 10.0 M [] 0 d
167.43 178.17 m
167.99 177.78 l
167.80 175.88 l
167.80 175.88 l
167.80 175.88 l
163.90 177.78 l
163.90 177.78 l
162.69 175.88 l
162.69 175.88 l
161.85 176.45 l
161.57 174.92 l
161.85 173.59 l
161.85 173.59 l
161.57 174.16 l
161.57 174.16 l
159.81 173.78 l
159.81 173.78 l
159.90 172.07 l
159.43 172.64 l
158.13 173.21 l
157.39 174.73 l
157.76 173.21 l
157.76 173.21 l
156.09 171.30 l
157.02 171.68 l
155.71 171.49 l
153.48 170.16 l
153.48 170.16 l
152.37 168.63 l
151.53 169.21 l
150.97 170.73 l
150.97 170.73 l
149.11 167.11 l
147.81 166.92 l
147.81 166.92 l
145.20 165.01 l
145.02 166.35 l
140.09 160.63 l
139.25 160.82 l
138.79 161.01 l
138.32 160.44 l
138.32 160.44 l
138.32 160.44 l
138.32 160.44 l
138.32 160.44 l
138.32 160.44 l
136.65 152.62 l
133.86 148.05 l
133.30 146.71 l
133.30 146.71 l
133.30 146.71 l
132.28 143.47 l
130.60 143.28 l
130.32 141.00 l
131.16 140.61 l
131.16 140.61 l
130.14 137.56 l
126.14 137.18 l
125.49 137.18 l
125.49 137.18 l
123.16 132.42 l
123.16 132.42 l
123.91 136.99 l
123.91 136.99 l
123.91 136.99 l
122.14 139.85 l
122.14 139.85 l
122.88 138.14 l
122.88 138.14 l
117.40 135.85 l
116.47 138.52 l
116.47 138.52 l
116.47 138.52 l
117.12 136.80 l
117.03 134.90 l
117.03 134.90 l
113.49 135.47 l
113.49 135.47 l
113.49 135.47 l
115.17 135.28 l
107.63 128.80 l
106.70 134.13 l
106.70 134.13 l
108.66 135.28 l
109.96 133.94 l
109.96 133.94 l
107.17 126.89 l
106.24 128.61 l
106.24 128.61 l
104.56 129.18 l
104.56 129.18 l
104.56 129.18 l
104.56 129.18 l
97.59 127.84 l
98.89 126.32 l
99.08 124.41 l
99.08 124.41 l
99.08 124.41 l
93.78 117.74 l
93.78 117.74 l
93.78 117.74 l
93.03 119.27 l
92.94 119.65 l
92.94 119.65 l
92.94 119.65 l
92.94 119.65 l
89.03 109.54 l
89.03 109.54 l
89.03 109.54 l
89.03 109.54 l
S
% END GriPath stroke/fill
%gri:set line width default
%gri:end if
%gri:
%gri:if {"\stns" == "yes"}
%gri:set symbol size .stnsymsiz.
%gri:set color black
%gri:draw symbol bullet
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0 g
0 G
0.369 w
0.369 w
n 167.4 178.2 m 2.0 _bull S
n 168.0 177.8 m 2.0 _bull S
n 167.8 175.9 m 2.0 _bull S
n 167.8 175.9 m 2.0 _bull S
n 167.8 175.9 m 2.0 _bull S
n 163.9 177.8 m 2.0 _bull S
n 163.9 177.8 m 2.0 _bull S
n 162.7 175.9 m 2.0 _bull S
n 162.7 175.9 m 2.0 _bull S
n 161.9 176.4 m 2.0 _bull S
n 161.6 174.9 m 2.0 _bull S
n 161.9 173.6 m 2.0 _bull S
n 161.9 173.6 m 2.0 _bull S
n 161.6 174.2 m 2.0 _bull S
n 161.6 174.2 m 2.0 _bull S
n 159.8 173.8 m 2.0 _bull S
n 159.8 173.8 m 2.0 _bull S
n 159.9 172.1 m 2.0 _bull S
n 159.4 172.6 m 2.0 _bull S
n 158.1 173.2 m 2.0 _bull S
n 157.4 174.7 m 2.0 _bull S
n 157.8 173.2 m 2.0 _bull S
n 157.8 173.2 m 2.0 _bull S
n 156.1 171.3 m 2.0 _bull S
n 157.0 171.7 m 2.0 _bull S
n 155.7 171.5 m 2.0 _bull S
n 153.5 170.2 m 2.0 _bull S
n 153.5 170.2 m 2.0 _bull S
n 152.4 168.6 m 2.0 _bull S
n 151.5 169.2 m 2.0 _bull S
n 151.0 170.7 m 2.0 _bull S
n 151.0 170.7 m 2.0 _bull S
n 149.1 167.1 m 2.0 _bull S
n 147.8 166.9 m 2.0 _bull S
n 147.8 166.9 m 2.0 _bull S
n 145.2 165.0 m 2.0 _bull S
n 145.0 166.3 m 2.0 _bull S
n 140.1 160.6 m 2.0 _bull S
n 139.3 160.8 m 2.0 _bull S
n 138.8 161.0 m 2.0 _bull S
n 138.3 160.4 m 2.0 _bull S
n 138.3 160.4 m 2.0 _bull S
n 138.3 160.4 m 2.0 _bull S
n 138.3 160.4 m 2.0 _bull S
n 138.3 160.4 m 2.0 _bull S
n 138.3 160.4 m 2.0 _bull S
n 136.6 152.6 m 2.0 _bull S
n 133.9 148.0 m 2.0 _bull S
n 133.3 146.7 m 2.0 _bull S
n 133.3 146.7 m 2.0 _bull S
n 133.3 146.7 m 2.0 _bull S
n 132.3 143.5 m 2.0 _bull S
n 130.6 143.3 m 2.0 _bull S
n 130.3 141.0 m 2.0 _bull S
n 131.2 140.6 m 2.0 _bull S
n 131.2 140.6 m 2.0 _bull S
n 130.1 137.6 m 2.0 _bull S
n 126.1 137.2 m 2.0 _bull S
n 125.5 137.2 m 2.0 _bull S
n 125.5 137.2 m 2.0 _bull S
n 123.2 132.4 m 2.0 _bull S
n 123.2 132.4 m 2.0 _bull S
n 123.9 137.0 m 2.0 _bull S
n 123.9 137.0 m 2.0 _bull S
n 123.9 137.0 m 2.0 _bull S
n 122.1 139.9 m 2.0 _bull S
n 122.1 139.9 m 2.0 _bull S
n 122.9 138.1 m 2.0 _bull S
n 122.9 138.1 m 2.0 _bull S
n 117.4 135.8 m 2.0 _bull S
n 116.5 138.5 m 2.0 _bull S
n 116.5 138.5 m 2.0 _bull S
n 116.5 138.5 m 2.0 _bull S
n 117.1 136.8 m 2.0 _bull S
n 117.0 134.9 m 2.0 _bull S
n 117.0 134.9 m 2.0 _bull S
n 113.5 135.5 m 2.0 _bull S
n 113.5 135.5 m 2.0 _bull S
n 113.5 135.5 m 2.0 _bull S
n 115.2 135.3 m 2.0 _bull S
n 107.6 128.8 m 2.0 _bull S
n 106.7 134.1 m 2.0 _bull S
n 106.7 134.1 m 2.0 _bull S
n 108.7 135.3 m 2.0 _bull S
n 110.0 133.9 m 2.0 _bull S
n 110.0 133.9 m 2.0 _bull S
n 107.2 126.9 m 2.0 _bull S
n 106.2 128.6 m 2.0 _bull S
n 106.2 128.6 m 2.0 _bull S
n 104.6 129.2 m 2.0 _bull S
n 104.6 129.2 m 2.0 _bull S
n 104.6 129.2 m 2.0 _bull S
n 104.6 129.2 m 2.0 _bull S
n 97.6 127.8 m 2.0 _bull S
n 98.9 126.3 m 2.0 _bull S
n 99.1 124.4 m 2.0 _bull S
n 99.1 124.4 m 2.0 _bull S
n 99.1 124.4 m 2.0 _bull S
n 93.8 117.7 m 2.0 _bull S
n 93.8 117.7 m 2.0 _bull S
n 93.8 117.7 m 2.0 _bull S
n 93.0 119.3 m 2.0 _bull S
n 92.9 119.6 m 2.0 _bull S
n 92.9 119.6 m 2.0 _bull S
n 92.9 119.6 m 2.0 _bull S
n 92.9 119.6 m 2.0 _bull S
n 89.0 109.5 m 2.0 _bull S
n 89.0 109.5 m 2.0 _bull S
n 89.0 109.5 m 2.0 _bull S
n 89.0 109.5 m 2.0 _bull S
%gri:set symbol size {rpn .stnsymsiz. 0.666 *}
%gri:set color LightGray
%gri:draw symbol bullet
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.827 g
0.827 G
0.369 w
0.369 w
n 167.4 178.2 m 1.3 _bull S
n 168.0 177.8 m 1.3 _bull S
n 167.8 175.9 m 1.3 _bull S
n 167.8 175.9 m 1.3 _bull S
n 167.8 175.9 m 1.3 _bull S
n 163.9 177.8 m 1.3 _bull S
n 163.9 177.8 m 1.3 _bull S
n 162.7 175.9 m 1.3 _bull S
n 162.7 175.9 m 1.3 _bull S
n 161.9 176.4 m 1.3 _bull S
n 161.6 174.9 m 1.3 _bull S
n 161.9 173.6 m 1.3 _bull S
n 161.9 173.6 m 1.3 _bull S
n 161.6 174.2 m 1.3 _bull S
n 161.6 174.2 m 1.3 _bull S
n 159.8 173.8 m 1.3 _bull S
n 159.8 173.8 m 1.3 _bull S
n 159.9 172.1 m 1.3 _bull S
n 159.4 172.6 m 1.3 _bull S
n 158.1 173.2 m 1.3 _bull S
n 157.4 174.7 m 1.3 _bull S
n 157.8 173.2 m 1.3 _bull S
n 157.8 173.2 m 1.3 _bull S
n 156.1 171.3 m 1.3 _bull S
n 157.0 171.7 m 1.3 _bull S
n 155.7 171.5 m 1.3 _bull S
n 153.5 170.2 m 1.3 _bull S
n 153.5 170.2 m 1.3 _bull S
n 152.4 168.6 m 1.3 _bull S
n 151.5 169.2 m 1.3 _bull S
n 151.0 170.7 m 1.3 _bull S
n 151.0 170.7 m 1.3 _bull S
n 149.1 167.1 m 1.3 _bull S
n 147.8 166.9 m 1.3 _bull S
n 147.8 166.9 m 1.3 _bull S
n 145.2 165.0 m 1.3 _bull S
n 145.0 166.3 m 1.3 _bull S
n 140.1 160.6 m 1.3 _bull S
n 139.3 160.8 m 1.3 _bull S
n 138.8 161.0 m 1.3 _bull S
n 138.3 160.4 m 1.3 _bull S
n 138.3 160.4 m 1.3 _bull S
n 138.3 160.4 m 1.3 _bull S
n 138.3 160.4 m 1.3 _bull S
n 138.3 160.4 m 1.3 _bull S
n 138.3 160.4 m 1.3 _bull S
n 136.6 152.6 m 1.3 _bull S
n 133.9 148.0 m 1.3 _bull S
n 133.3 146.7 m 1.3 _bull S
n 133.3 146.7 m 1.3 _bull S
n 133.3 146.7 m 1.3 _bull S
n 132.3 143.5 m 1.3 _bull S
n 130.6 143.3 m 1.3 _bull S
n 130.3 141.0 m 1.3 _bull S
n 131.2 140.6 m 1.3 _bull S
n 131.2 140.6 m 1.3 _bull S
n 130.1 137.6 m 1.3 _bull S
n 126.1 137.2 m 1.3 _bull S
n 125.5 137.2 m 1.3 _bull S
n 125.5 137.2 m 1.3 _bull S
n 123.2 132.4 m 1.3 _bull S
n 123.2 132.4 m 1.3 _bull S
n 123.9 137.0 m 1.3 _bull S
n 123.9 137.0 m 1.3 _bull S
n 123.9 137.0 m 1.3 _bull S
n 122.1 139.9 m 1.3 _bull S
n 122.1 139.9 m 1.3 _bull S
n 122.9 138.1 m 1.3 _bull S
n 122.9 138.1 m 1.3 _bull S
n 117.4 135.8 m 1.3 _bull S
n 116.5 138.5 m 1.3 _bull S
n 116.5 138.5 m 1.3 _bull S
n 116.5 138.5 m 1.3 _bull S
n 117.1 136.8 m 1.3 _bull S
n 117.0 134.9 m 1.3 _bull S
n 117.0 134.9 m 1.3 _bull S
n 113.5 135.5 m 1.3 _bull S
n 113.5 135.5 m 1.3 _bull S
n 113.5 135.5 m 1.3 _bull S
n 115.2 135.3 m 1.3 _bull S
n 107.6 128.8 m 1.3 _bull S
n 106.7 134.1 m 1.3 _bull S
n 106.7 134.1 m 1.3 _bull S
n 108.7 135.3 m 1.3 _bull S
n 110.0 133.9 m 1.3 _bull S
n 110.0 133.9 m 1.3 _bull S
n 107.2 126.9 m 1.3 _bull S
n 106.2 128.6 m 1.3 _bull S
n 106.2 128.6 m 1.3 _bull S
n 104.6 129.2 m 1.3 _bull S
n 104.6 129.2 m 1.3 _bull S
n 104.6 129.2 m 1.3 _bull S
n 104.6 129.2 m 1.3 _bull S
n 97.6 127.8 m 1.3 _bull S
n 98.9 126.3 m 1.3 _bull S
n 99.1 124.4 m 1.3 _bull S
n 99.1 124.4 m 1.3 _bull S
n 99.1 124.4 m 1.3 _bull S
n 93.8 117.7 m 1.3 _bull S
n 93.8 117.7 m 1.3 _bull S
n 93.8 117.7 m 1.3 _bull S
n 93.0 119.3 m 1.3 _bull S
n 92.9 119.6 m 1.3 _bull S
n 92.9 119.6 m 1.3 _bull S
n 92.9 119.6 m 1.3 _bull S
n 92.9 119.6 m 1.3 _bull S
n 89.0 109.5 m 1.3 _bull S
n 89.0 109.5 m 1.3 _bull S
n 89.0 109.5 m 1.3 _bull S
n 89.0 109.5 m 1.3 _bull S
%% extra bit put manually 
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
0.1 w
0.824 0.706 0.549 RG
1.0 i 0 J 1 j 0.5 w 10.0 M [] 0 d
166.90 177.10 m
165.84 176.81 l
164.86 176.51 l
163.95 176.20 l
163.14 175.90 l
162.43 175.57 l
161.79 175.23 l
161.21 174.91 l
160.68 174.58 l
160.18 174.30 l
159.68 174.03 l
159.18 173.78 l
158.66 173.57 l
158.09 173.38 l
157.45 173.17 l
156.73 172.92 l
155.89 172.62 l
154.91 172.20 l
153.79 171.67 l
152.50 171.00 l
151.06 170.16 l
149.50 169.19 l
147.85 168.06 l
146.16 166.80 l
144.50 165.45 l
142.90 164.00 l
141.42 162.48 l
140.08 160.88 l
138.90 159.20 l
137.86 157.46 l
136.94 155.63 l
136.12 153.75 l
135.34 151.78 l
134.58 149.76 l
133.82 147.76 l
133.04 145.78 l
132.22 143.91 l
131.39 142.22 l
130.54 140.75 l
129.67 139.57 l
128.80 138.71 l
127.91 138.16 l
126.99 137.91 l
126.05 137.87 l
125.03 137.98 l
123.96 138.16 l
122.81 138.31 l
121.60 138.35 l
120.35 138.21 l
119.08 137.87 l
117.83 137.34 l
116.64 136.63 l
115.55 135.79 l
114.54 134.91 l
113.63 134.06 l
112.80 133.29 l
111.99 132.65 l
111.17 132.15 l
110.27 131.79 l
109.26 131.52 l
108.11 131.27 l
106.80 130.97 l
105.37 130.53 l
103.87 129.88 l
102.31 128.99 l
100.80 127.82 l
99.36 126.43 l
98.03 124.81 l
96.83 123.04 l
95.73 121.15 l
94.71 119.25 l
93.68 117.30 l
92.61 115.38 l
91.44 113.45 l
90.12 111.56 l
88.65 109.70 l
87.01 107.87 l
85.26 106.11 l
83.42 104.47 l
81.55 102.99 l
S
% END GriPath stroke/fill

%gri:set color black
%gri:set symbol size default
%gri:end if 
%gri:
%gri:if {"\labels" == "yes"}
%gri:  draw values separation 0.4 0.4
%gri:end if
%gri:close
%gri:
%gri:show "------------------- Station positions complete -------------------"
%gri:
%gri:set color black
%gri:draw axes 
% gr_show_at() BEGIN
0 g
0 G
138.1 67.4 m () sh
(\255) sh
(10) sh
% gr_show_at() END
0 g
0 G
1.0 i 0 J 0 j 0.817 w 10.0 M [] 0 d
88.20 88.20 m
100.29 88.20 l
100.29 85.35 l
100.29 88.20 l
146.79 88.20 l
146.79 82.51 l
146.79 88.20 l
193.29 88.20 l
193.29 85.35 l
193.29 88.20 l
198.96 88.20 l
S
% END GriPath stroke/fill
% gr_show_at() BEGIN
0 g
0 G
109.8 52.2 m (Longitude W) sh
% gr_show_at() END
/Helvetica-ISOLatin1 findfont 0.00 sc sf
0 g
0 G
1.0 i 0 J 0 j 0.817 w 10.0 M [] 0 d
88.20 240.69 m
100.29 240.69 l
100.29 243.53 l
100.29 240.69 l
146.79 240.69 l
146.79 246.38 l
146.79 240.69 l
193.29 240.69 l
193.29 243.53 l
193.29 240.69 l
198.96 240.69 l
S
% END GriPath stroke/fill
/Helvetica-ISOLatin1 findfont 12.00 sc sf
% gr_show_at() BEGIN
0 g
0 G
53.2 83.9 m (41.5) sh
% gr_show_at() END
% gr_show_at() BEGIN
0 g
0 G
63.3 179.2 m (42) sh
% gr_show_at() END
0 g
0 G
1.0 i 0 J 0 j 0.817 w 10.0 M [] 0 d
88.20 88.20 m
88.20 88.20 l
82.51 88.20 l
88.20 88.20 l
88.20 135.85 l
85.35 135.85 l
88.20 135.85 l
88.20 183.50 l
82.51 183.50 l
88.20 183.50 l
88.20 231.16 l
85.35 231.16 l
88.20 231.16 l
88.20 240.69 l
S
% END GriPath stroke/fill
% gr_show_at() BEGIN
0 g
0 G
47.4 137.0 m 90.00 rotate (Latitude N) sh
-90.00 rotate % gr_show_at() END
/Helvetica-ISOLatin1 findfont 0.00 sc sf
0 g
0 G
1.0 i 0 J 0 j 0.817 w 10.0 M [] 0 d
198.87 88.20 m
198.87 88.20 l
204.56 88.20 l
198.87 88.20 l
198.87 135.85 l
201.71 135.85 l
198.87 135.85 l
198.87 183.50 l
204.56 183.50 l
198.87 183.50 l
198.87 231.16 l
201.71 231.16 l
198.87 231.16 l
198.87 240.69 l
S
% END GriPath stroke/fill
/Helvetica-ISOLatin1 findfont 12.00 sc sf
%gri:
%gri:// draw current vectors
%gri:
%gri:if {"\currdraw" == "yes"}
%gri:
%gri:set missing value 1e38
%gri:open \currfile
%gri:read columns x=\xcol y=\ycol u=\ucol v=\vcol
%gri:x -= 360
%gri:close
%gri:  
%gri:set u scale .arrowscale.
%gri:set v scale .arrowscale.
%gri:
%gri:set arrow type .arrowtype.
%gri:if .arrowtype. 
%gri:  set arrow size 0.06
%gri:  set line width 1.701
%gri:  set color white
%gri:  draw arrows
%gri:  set color black
%gri:  set arrow size 0.08
%gri:  set line width 0.992
%gri:else
%gri:  set arrow size 0.06
%gri:  set line width 1.701
%gri:end if  //arrowtype
%gri:set line width default
%gri:
%gri:draw arrows
%gri:.arrscl. = {rpn .arrowscale. 2 /}
%gri:draw arrow from .sposx. .sposy. to {rpn .sposx. .arrscl. +} .sposy. cm
%gri:draw label "50 cm/s" centered at {rpn .arrscl. 2 / .sposx. +}                                {rpn .sposy. 0.5 -} cm
%gri:set line width default
%gri:end if   // currents
%gri:
%gri:show "-------------------- Current vectors complete --------------------"
%gri:
%gri:set clip postscript off
S Q % turn clipping off
%gri:
%gri:open \fdata
%gri:skip 67
%gri:read .nlabs.
%gri:show .nlabs.
%gri:.nlabs. = {rpn .nlabs. 1 +}
%gri:.loop. = 1
%gri:while {rpn .loop. .nlabs. >}
%gri:read \lab
%gri:read \colr
%gri:read .lsiz. .lx. .ly. .lrot.
%gri:set font size .lsiz.
%gri:set color "\colr"
%gri:draw label "\lab" centered at .lx. .ly. rotated .lrot.
%gri:.loop. = {rpn .loop. 1 +}
%gri:end while
%gri:
%gri:close 
%gri:
%gri:show "-------------------- Labels completed -------------------"
%gri:
%gri:
%gri:set color black
%gri:if ..publication..
%gri:  draw time stamp
/Helvetica-ISOLatin1 findfont 10.00 sc sf
%^ scale 1 88.195 -10.63 93.0004 1 88.195 41.5 190.615
%gri:
%gri:show "----------------------- Plot completed ------------------"
%gri:
%gri:
%gri:quit
showpage
%%Trailer
%%BoundingBox: 38 49 206 248
%%DocumentFonts: Courier Helvetica Palatino-Roman Palatino-Italic Symbol Times-Roman
%%Pages: 1
